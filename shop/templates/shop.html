{% extends 'base.html' %} 
{% block title %} 
The AI-Quiz - Shop
{% endblock %} 
{% block content %}
<div class="base-container shop">
  <h1>Explore some epic items in our shop!</h1>
  <div class="content-container-transparent">
    <h2>Skins:</h2>
    <div class="product-category">
      {% for product in products %} {% if product.category == "skins" %}
      <div class="product-box">
        <img src="{{ product.image.url }}" alt="{{ product.name }}" />
        <p class="product-name">{{ product.name }}</p>
        <div class="hover-details">
          <img
            src="{{ product.image.url }}"
            alt="{{ product.name }}"
            class="hover-img"
          />
          <div class="info">
            <h3>{{ product.name }}</h3>
            <p class="price">Price: {{ product.price }}</p>
            <p class="description">{{ product.description }}</p>
          </div>
          <div class="action">
            {% if user.is_authenticated %}
            <a 
              href="{% url 'buy_product' product.id %}" 
              class="btn"
              hx-get="{% url 'buy_product_swap' product.id %}"
              hx-target="#content-area"
              hx-swap="innerHTML"
              hx-push-url="{% url 'buy_product' product.id %}"
            >Buy</a>
            {% endif %}
          </div>
        </div>
      </div>
      {% endif %} {% endfor %}
    </div>

    <h2>Joker:</h2>
    <div class="product-category">
      {% for product in products %} {% if product.category == "joker" %}
      <div class="product-box">
        <img src="{{ product.image.url }}" alt="{{ product.name }}" />
        <p class="product-name">{{ product.name }}</p>
        <div class="hover-details">
          <img
            src="{{ product.image.url }}"
            alt="{{ product.name }}"
            class="hover-img"
          />
          <div class="info">
            <h3>{{ product.name }}</h3>
            <p class="price">Price: {{ product.price }}</p>
            <p class="description">{{ product.description }}</p>
          </div>
          <div class="action">
            {% if user.is_authenticated %}
            <a 
              href="{% url 'buy_product' product.id %}" 
              class="btn"
              hx-get="{% url 'buy_product_swap' product.id %}"
              hx-target="#content-area"
              hx-swap="innerHTML"
              hx-push-url="{% url 'buy_product' product.id %}"
            >Buy</a>
            {% endif %}
          </div>
        </div>
      </div>
      {% endif %} {% endfor %}
    </div>

    <h2>AI Opponents:</h2>
    <div class="product-category">
      {% for product in products %} {% if product.category == "opponents" %}
      <div class="product-box">
        <img src="{{ product.image.url }}" alt="{{ product.name }}" />
        <p class="product-name">{{ product.name }}</p>
        <div class="hover-details">
          <img
            src="{{ product.image.url }}"
            alt="{{ product.name }}"
            class="hover-img"
          />
          <div class="info">
            <h3>{{ product.name }}</h3>
            <p class="price">Price: {{ product.price }}</p>
            <p class="description">{{ product.description }}</p>
          </div>
          <div class="action">
            {% if user.is_authenticated %}
            <a 
              href="{% url 'buy_product' product.id %}" 
              class="btn"
              hx-get="{% url 'buy_product_swap' product.id %}"
              hx-target="#content-area"
              hx-swap="innerHTML"
              hx-push-url="{% url 'buy_product' product.id %}"
            >Buy</a>
            {% endif %}
          </div>
        </div>
      </div>
      {% endif %} {% endfor %}
    </div>
  </div>
</div>
{% endblock %}
